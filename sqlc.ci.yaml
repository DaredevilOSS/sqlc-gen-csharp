version: "2"
plugins:
  - name: csharp
    wasm:
      url: file://dist/plugin.wasm
      sha256: 
sql:
  # PostgresSQL
  - schema: ["examples/config/postgresql/authors/schema.sql", "examples/config/postgresql/types/schema.sql"]
    queries: ["examples/config/postgresql/authors/query.sql", "examples/config/postgresql/types/query.sql"]
    engine: "postgresql"
    codegen:
      - plugin: csharp
        out: examples/NpgsqlExample
        options:
          useDapper: false
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: NpgsqlExampleGen
          overrides:
            - column: "GetPostgresFunctions:max_integer"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetPostgresFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetPostgresFunctions:max_timestamp"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "GetPostgresSpecialTypesCnt:c_json"
              csharp_type:
                type: "JsonElement"
                notNull: false
            - column: "GetPostgresSpecialTypesCnt:c_jsonb"
              csharp_type:
                type: "JsonElement"
                notNull: false
            - column: "*:c_json_string_override"
              csharp_type:
                type: "string"
                notNull: false
            - column: "*:c_xml_string_override"
              csharp_type:
                type: "string"
                notNull: false
            - column: "*:c_macaddr8"
              csharp_type:
                type: "string"
                notNull: false
  - schema: ["examples/config/postgresql/authors/schema.sql", "examples/config/postgresql/types/schema.sql"]
    queries: ["examples/config/postgresql/authors/query.sql", "examples/config/postgresql/types/query.sql"]
    engine: "postgresql"
    codegen:
      - plugin: csharp
        out: examples/NpgsqlDapperExample
        options:
          useDapper: true
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: NpgsqlDapperExampleGen
          overrides:
            - column: "GetPostgresFunctions:max_integer"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetPostgresFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetPostgresFunctions:max_timestamp"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "GetPostgresSpecialTypesCnt:c_json"
              csharp_type:
                type: "JsonElement"
                notNull: false
            - column: "GetPostgresSpecialTypesCnt:c_jsonb"
              csharp_type:
                type: "JsonElement"
                notNull: false
            - column: "*:c_json_string_override"
              csharp_type:
                type: "string"
                notNull: false
            - column: "*:c_xml_string_override"
              csharp_type:
                type: "string"
                notNull: false
            - column: "*:c_macaddr8"
              csharp_type:
                type: "string"
                notNull: false
  - schema: ["examples/config/postgresql/authors/schema.sql", "examples/config/postgresql/types/schema.sql"]
    queries: ["examples/config/postgresql/authors/query.sql", "examples/config/postgresql/types/query.sql"]
    engine: "postgresql"
    codegen:
      - plugin: csharp
        out: examples/NpgsqlLegacyExample
        options:
          useDapper: false
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: NpgsqlLegacyExampleGen
          overrides:
            - column: "GetPostgresFunctions:max_integer"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetPostgresFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetPostgresFunctions:max_timestamp"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "GetPostgresSpecialTypesCnt:c_json"
              csharp_type:
                type: "JsonElement"
                notNull: false
            - column: "GetPostgresSpecialTypesCnt:c_jsonb"
              csharp_type:
                type: "JsonElement"
                notNull: false
            - column: "*:c_json_string_override"
              csharp_type:
                type: "string"
                notNull: false
            - column: "*:c_xml_string_override"
              csharp_type:
                type: "string"
                notNull: false
            - column: "*:c_macaddr8"
              csharp_type:
                type: "string"
                notNull: false
  - schema: ["examples/config/postgresql/authors/schema.sql", "examples/config/postgresql/types/schema.sql"]
    queries: ["examples/config/postgresql/authors/query.sql", "examples/config/postgresql/types/query.sql"]
    engine: "postgresql"
    codegen:
      - plugin: csharp
        out: examples/NpgsqlDapperLegacyExample
        options:
          useDapper: true
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: NpgsqlDapperLegacyExampleGen
          overrides:
            - column: "GetPostgresFunctions:max_integer"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetPostgresFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetPostgresFunctions:max_timestamp"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "GetPostgresSpecialTypesCnt:c_json"
              csharp_type:
                type: "JsonElement"
                notNull: false
            - column: "GetPostgresSpecialTypesCnt:c_jsonb"
              csharp_type:
                type: "JsonElement"
                notNull: false
            - column: "*:c_json_string_override"
              csharp_type:
                type: "string"
                notNull: false
            - column: "*:c_xml_string_override"
              csharp_type:
                type: "string"
                notNull: false
            - column: "*:c_macaddr8"
              csharp_type:
                type: "string"
                notNull: false
                
  # MySQL
  - schema: ["examples/config/mysql/authors/schema.sql", "examples/config/mysql/types/schema.sql"]
    queries: ["examples/config/mysql/authors/query.sql", "examples/config/mysql/types/query.sql"]
    engine: "mysql"
    codegen:
      - plugin: csharp
        out: examples/MySqlConnectorExample
        options:
          useDapper: false
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: MySqlConnectorExampleGen
          overrides:
            - column: "GetMysqlFunctions:max_int"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetMysqlFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetMysqlFunctions:max_timestamp"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "*:c_json_string_override"
              csharp_type:
                type: "string"
                notNull: false
  - schema: ["examples/config/mysql/authors/schema.sql", "examples/config/mysql/types/schema.sql"]
    queries: ["examples/config/mysql/authors/query.sql", "examples/config/mysql/types/query.sql"]
    engine: "mysql"
    codegen:
      - plugin: csharp
        out: examples/MySqlConnectorDapperExample
        options:
          useDapper: true
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: MySqlConnectorDapperExampleGen
          overrides:
            - column: "GetMysqlFunctions:max_int"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetMysqlFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetMysqlFunctions:max_timestamp"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "*:c_json_string_override"
              csharp_type:
                type: "string"
                notNull: false
  - schema: ["examples/config/mysql/authors/schema.sql", "examples/config/mysql/types/schema.sql"]
    queries: ["examples/config/mysql/authors/query.sql", "examples/config/mysql/types/query.sql"]
    engine: "mysql"
    codegen:
      - plugin: csharp
        out: examples/MySqlConnectorLegacyExample
        options:
          useDapper: false
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: MySqlConnectorLegacyExampleGen
          overrides:
            - column: "GetMysqlFunctions:max_int"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetMysqlFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetMysqlFunctions:max_timestamp"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "*:c_json_string_override"
              csharp_type:
                type: "string"
                notNull: false
  - schema: ["examples/config/mysql/authors/schema.sql", "examples/config/mysql/types/schema.sql"]
    queries: ["examples/config/mysql/authors/query.sql", "examples/config/mysql/types/query.sql"]
    engine: "mysql"
    codegen:
      - plugin: csharp
        out: examples/MySqlConnectorDapperLegacyExample
        options:
          useDapper: true
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: MySqlConnectorDapperLegacyExampleGen
          overrides:
            - column: "GetMysqlFunctions:max_int"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetMysqlFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetMysqlFunctions:max_timestamp"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "*:c_json_string_override"
              csharp_type:
                type: "string"
                notNull: false

  # Sqlite
  - schema: ["examples/config/sqlite/authors/schema.sql", "examples/config/sqlite/types/schema.sql"]
    queries: ["examples/config/sqlite/authors/query.sql", "examples/config/sqlite/types/query.sql"]
    engine: "sqlite"
    codegen:
      - plugin: csharp
        out: examples/SqliteExample
        options:
          useDapper: false
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: SqliteExampleGen
          overrides:
            - column: "GetSqliteFunctions:max_integer"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetSqliteFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetSqliteFunctions:max_real"
              csharp_type:
                type: "decimal"
                notNull: true
            - column: "*:created_at"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "*:updated_at"
              csharp_type:
                type: "DateTime"
                notNull: false
  - schema: ["examples/config/sqlite/authors/schema.sql", "examples/config/sqlite/types/schema.sql"]
    queries: ["examples/config/sqlite/authors/query.sql", "examples/config/sqlite/types/query.sql"]
    engine: "sqlite"
    codegen:
      - plugin: csharp
        out: examples/SqliteDapperExample
        options:
          useDapper: true
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: SqliteDapperExampleGen
          overrides:
            - column: "GetSqliteFunctions:max_integer"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetSqliteFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetSqliteFunctions:max_real"
              csharp_type:
                type: "decimal"
                notNull: true
            - column: "*:created_at"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "*:updated_at"
              csharp_type:
                type: "DateTime"
                notNull: false
  - schema: ["examples/config/sqlite/authors/schema.sql", "examples/config/sqlite/types/schema.sql"]
    queries: ["examples/config/sqlite/authors/query.sql", "examples/config/sqlite/types/query.sql"]
    engine: "sqlite"
    codegen:
      - plugin: csharp
        out: examples/SqliteLegacyExample
        options:
          useDapper: false
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: SqliteLegacyExampleGen
          overrides:
            - column: "GetSqliteFunctions:max_integer"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetSqliteFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetSqliteFunctions:max_real"
              csharp_type:
                type: "decimal"
                notNull: true
            - column: "*:created_at"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "*:updated_at"
              csharp_type:
                type: "DateTime"
                notNull: false
  - schema: ["examples/config/sqlite/authors/schema.sql", "examples/config/sqlite/types/schema.sql"]
    queries: ["examples/config/sqlite/authors/query.sql", "examples/config/sqlite/types/query.sql"]
    engine: "sqlite"
    codegen:
      - plugin: csharp
        out: examples/SqliteDapperLegacyExample
        options:
          useDapper: true
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: SqliteDapperLegacyExampleGen
          overrides:
            - column: "GetSqliteFunctions:max_integer"
              csharp_type:
                type: "int"
                notNull: false
            - column: "GetSqliteFunctions:max_varchar"
              csharp_type:
                type: "string"
                notNull: false
            - column: "GetSqliteFunctions:max_real"
              csharp_type:
                type: "decimal"
                notNull: true
            - column: "*:created_at"
              csharp_type:
                type: "DateTime"
                notNull: true
            - column: "*:updated_at"
              csharp_type:
                type: "DateTime"
                notNull: false