version: "2"
plugins:
  - name: csharp
    process:
      cmd: ./dist/LocalRunner
sql:
  # PostgresSQL
  - schema: "examples/config/postgresql/schema.sql"
    queries: "examples/config/postgresql/query.sql"
    engine: "postgresql"
    codegen:
      - plugin: csharp
        out: examples/NpgsqlExample
        options:
          useDapper: false
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: NpgsqlExampleGen
          debugRequest: true
  - schema: "examples/config/postgresql/schema.sql"
    queries: "examples/config/postgresql/query.sql"
    engine: "postgresql"
    codegen:
      - plugin: csharp
        out: examples/NpgsqlDapperExample
        options:
          useDapper: true
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: NpgsqlDapperExampleGen
          debugRequest: true
  - schema: "examples/config/postgresql/schema.sql"
    queries: "examples/config/postgresql/query.sql"
    engine: "postgresql"
    codegen:
      - plugin: csharp
        out: examples/NpgsqlLegacyExample
        options:
          useDapper: false
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: NpgsqlLegacyExampleGen
          debugRequest: true
  - schema: "examples/config/postgresql/schema.sql"
    queries: "examples/config/postgresql/query.sql"
    engine: "postgresql"
    codegen:
      - plugin: csharp
        out: examples/NpgsqlDapperLegacyExample
        options:
          useDapper: true
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: NpgsqlDapperLegacyExampleGen
          debugRequest: true
  
  # MySQL
  - schema: "examples/config/mysql/schema.sql"
    queries: "examples/config/mysql/query.sql"
    engine: "mysql"
    codegen:
      - plugin: csharp
        out: examples/MySqlConnectorExample
        options:
          useDapper: false
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: MySqlConnectorExampleGen
          debugRequest: true
  - schema: "examples/config/mysql/schema.sql"
    queries: "examples/config/mysql/query.sql"
    engine: "mysql"
    codegen:
      - plugin: csharp
        out: examples/MySqlConnectorDapperExample
        options:
          useDapper: true
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: MySqlConnectorDapperExampleGen
          debugRequest: true
  - schema: "examples/config/mysql/schema.sql"
    queries: "examples/config/mysql/query.sql"
    engine: "mysql"
    codegen:
      - plugin: csharp
        out: examples/MySqlConnectorLegacyExample
        options:
          useDapper: false
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: MySqlConnectorLegacyExampleGen
          debugRequest: true
  - schema: "examples/config/mysql/schema.sql"
    queries: "examples/config/mysql/query.sql"
    engine: "mysql"
    codegen:
      - plugin: csharp
        out: examples/MySqlConnectorDapperLegacyExample
        options:
          useDapper: true
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: MySqlConnectorDapperLegacyExampleGen
          debugRequest: true
  
  # Sqlite
  - schema: "examples/config/sqlite/schema.sql"
    queries: "examples/config/sqlite/query.sql"
    engine: "sqlite"
    codegen:
      - plugin: csharp
        out: examples/SqliteExample
        options:
          useDapper: false
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: SqliteExampleGen
          debugRequest: true
  - schema: "examples/config/sqlite/schema.sql"
    queries: "examples/config/sqlite/query.sql"
    engine: "sqlite"
    codegen:
      - plugin: csharp
        out: examples/SqliteDapperExample
        options:
          useDapper: true
          targetFramework: net8.0
          generateCsproj: true
          namespaceName: SqliteDapperExampleGen
          debugRequest: true
  - schema: "examples/config/sqlite/schema.sql"
    queries: "examples/config/sqlite/query.sql"
    engine: "sqlite"
    codegen:
      - plugin: csharp
        out: examples/SqliteLegacyExample
        options:
          useDapper: false
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: SqliteLegacyExampleGen
          debugRequest: true
  - schema: "examples/config/sqlite/schema.sql"
    queries: "examples/config/sqlite/query.sql"
    engine: "sqlite"
    codegen:
      - plugin: csharp
        out: examples/SqliteDapperLegacyExample
        options:
          useDapper: true
          targetFramework: netstandard2.0
          generateCsproj: true
          namespaceName: SqliteDapperLegacyExampleGen
          debugRequest: true
